(()=>{"use strict";var e={850:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(252)),i=s(r(394)),n=d.default.Router(),a=new i.default;t.default=class{constructor(e,t){this.sensorDataUseCase=e,this.staclient=t,n.get("/histogram",((e,t)=>o(this,void 0,void 0,(function*(){try{let r,o={success:!1,message:""};const{idSpeceficProduct:s}=a.verifyToken(e.headers.authorization),{year:d,month:i,typeSensorId:n}=e.query;if(!n)return o.message="typeSensorId is required",t.status(400).json(o);if(r=i&&d?yield this.sensorDataUseCase.getByDate(s,Number(d),Number(i),Number(n)):yield this.sensorDataUseCase.getByYear(s,void 0,Number(n)),0===r.length)return o={success:!0,message:"Data found ",histogram:[]},t.status(404).json(o);const{label:c,data:u}=yield this.staclient.calculateHistogram(r,e.headers.authorization);return o=i&&d?{success:!0,message:"Data found",label:c,data:u,nameSensor:r[0].nameSensor,period:`${d}-0${i}`}:{success:!0,message:"Data found",label:c,data:u,nameSensor:r[0].nameSensor},t.status(200).json(o)}catch(e){return console.log(e),t.status(500).json({success:!1,message:"Internal server error"})}})))),n.get("/scatterplot",((e,t)=>o(this,void 0,void 0,(function*(){try{const{year:r,month:o,typeSensorId:s,typeSensorIdtwo:d}=e.query;let i,n,c={success:!1,message:""};const{idSpeceficProduct:u}=a.verifyToken(e.headers.authorization);if(!s||!d)return c.message="typeSensorId and typeSensorIdtwo is required",t.status(400).json(c);if(o&&r?(i=yield this.sensorDataUseCase.getByDate(u,Number(r),Number(o),Number(s)),n=yield this.sensorDataUseCase.getByDate(u,Number(r),Number(o),Number(d))):(i=yield this.sensorDataUseCase.getByYear(u,void 0,Number(s)),n=yield this.sensorDataUseCase.getByYear(u,void 0,Number(d))),0===i.length||0===n.length)return c={success:!1,message:"Data found ",data:[]},t.status(200).json(c);const{data:l,x:f,y:p}=yield this.staclient.scatterPlot(i,n,e.headers.authorization);return c=o&&r?{success:!0,message:"Data found",data:l,x:f,y:p,period:`${r}-0${o}`}:{success:!0,message:"Data found",data:l,x:f,y:p},t.status(200).json(c)}catch(e){return console.log(e),t.status(500).json({success:!1,message:"Internal server error"})}})))),n.get("/linachart",((e,t)=>o(this,void 0,void 0,(function*(){try{const{year:r}=e.query;let o;const{idSpeceficProduct:s}=a.verifyToken(e.headers.authorization);if(o=r?yield this.sensorDataUseCase.getByYear(s,Number(r)):yield this.sensorDataUseCase.getByYear(s),0===o.length)return t.status(404).json({success:!1,message:"Data not found"});const d=yield this.staclient.linechart(o,e.headers.authorization);return r?t.status(200).json({success:!0,message:"Data found",data:d,period:r}):t.status(200).json({success:!0,message:"Data found",data:d})}catch(e){return console.log(e),t.status(500).json({success:!1,message:"Internal server error"})}})))),n.get("/freqency",((e,t)=>o(this,void 0,void 0,(function*(){try{const{year:r,month:o}=e.query;let s,d={};const{idSpeceficProduct:i}=a.verifyToken(e.headers.authorization);if(s=r&&o?yield this.sensorDataUseCase.getByDate(i,Number(r),Number(o)):r?yield this.sensorDataUseCase.getByYear(i,Number(r)):yield this.sensorDataUseCase.getByYear(i),0===s.length)return t.status(404).json({success:!1,message:"Data not found"});const n=yield this.staclient.frequencytable(s,e.headers.authorization);return d=r&&o?{success:!0,message:"Data found",data:n,period:`${r}-0${o}`}:r?{success:!0,message:"Data found",data:n,period:r}:{success:!0,message:"Data found",data:n},t.status(200).json(d)}catch(e){return console.log(e),t.status(500).json({success:!1,message:"Internal server error"})}})))),n.get("/boxplot",((e,t)=>o(this,void 0,void 0,(function*(){try{const{idSpeceficProduct:r}=a.verifyToken(e.headers.authorization),o=yield this.sensorDataUseCase.getByYear(r),s=yield this.staclient.boxplot(o,e.headers.authorization);return t.status(200).json({success:!0,message:"Data found",data:s})}catch(e){return console.log(e),t.status(500).json({success:!1,message:"Internal server error"})}}))))}getrouter(){return n}}},381:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(252)).default.Router();t.default=class{constructor(e){this.sensorDataUseCase=e,d.post("/sensordata",((e,t)=>o(this,void 0,void 0,(function*(){const{sensorId:r,valor:o,nameSensor:s,codeOfProduct:d}=e.body;try{return yield this.sensorDataUseCase.save({id:0,createdAt:new Date,updatedAt:new Date,isDeleted:!1,valor:o,sensorId:r,nameSensor:s,updatedBy:0,createdBy:0,codeOfProduct:d}),t.status(201).json({success:!0,message:"Data saved successfully"})}catch(e){return console.log(e),t.status(400).json({success:!1,message:"Error saving data"})}}))))}getrouter(){return d}}},876:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(252)),i=s(r(394)),n=d.default.Router(),a=new i.default;t.default=class{constructor(e,t){this.sensorDataUseCase=e,this.staclient=t,n.get("/metricts",((e,t)=>o(this,void 0,void 0,(function*(){try{const{idSpeceficProduct:r}=a.verifyToken(e.headers.authorization),{year:o,month:s}=e.query;let d;if(d=s&&o?yield this.sensorDataUseCase.getByDate(r,Number(o),Number(s)):o?yield this.sensorDataUseCase.getByYear(r,Number(o)):yield this.sensorDataUseCase.getByYear(r),0===d.length)return t.status(200).json({success:!0,message:"Data found ",histogram:[]});const i=yield this.staclient.getStatistics(d,e.headers.authorization);return t.status(200).json({success:!0,message:"Data found",data:i})}catch(e){return console.log(e),t.status(500).json({success:!1,message:"Internal Server Error"})}}))))}getRouter(){return n}}},52:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(252);r(469),t.default=class{constructor(e,t){this.router=(0,s.Router)(),this.userLoginUseCase=e,this.registerUserCase=t,this.routes()}routes(){this.router.post("/login",this.login.bind(this)),this.router.post("/signup",this.register.bind(this))}login(e,t){return o(this,void 0,void 0,(function*(){const{email:r,password:o}=e.body;try{const e=yield this.userLoginUseCase.login(r,o);return t.status(200).json({success:!0,token:e})}catch(e){return t.status(400).json({success:!1,error:"Invalid credentials"})}}))}register(e,t){return o(this,void 0,void 0,(function*(){const{name:r,email:o,password:s,codigoproducto:d}=e.body;try{return yield this.registerUserCase.register({name:r,email:o,password:s,id:0,createdAt:new Date,updatedAt:new Date,isDeleted:!1,roleid:Number(process.env.ROLEID)},d),t.status(201).json({success:!0,message:"User registered successfully"})}catch(e){return console.log(e.message),t.status(400).json({success:!1,message:"Error registering user"})}}))}}},431:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(368);t.default=class{findByName(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.producto.findFirst({where:{nombre:e}});return t?{id:t.id,name:t.nombre,description:t.descripcion,price:t.precio,stock:t.stock,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt}:null}catch(e){throw new Error("Error finding product")}}))}save(e){return o(this,void 0,void 0,(function*(){try{yield s.db.producto.create({data:{nombre:e.name,descripcion:e.description,stock:e.stock,precio:e.price}})}catch(e){throw new Error("Error saving product")}}))}updateName(e,t){return o(this,void 0,void 0,(function*(){try{yield s.db.producto.update({where:{id:e.id},data:{nombre:e.name}})}catch(e){throw new Error("Errro updating name")}}))}updateDescription(e,t){return o(this,void 0,void 0,(function*(){try{yield s.db.producto.update({where:{id:e.id},data:{descripcion:e.description}})}catch(e){throw new Error("Error updating description")}}))}updateStock(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.producto.findUnique({where:{id:e.id}});yield s.db.producto.update({where:{id:e.id},data:{stock:Number(null==t?void 0:t.stock)-1}})}catch(e){throw new Error("Error updating stock")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield s.db.producto.update({where:{id:e.id},data:{isDeleted:!0}})}catch(e){throw new Error("Error deleting product")}}))}fisicalDelete(e){return o(this,void 0,void 0,(function*(){try{yield s.db.producto.delete({where:{id:e.id}})}catch(e){throw new Error("Error deleting product")}}))}find(e,t){return o(this,void 0,void 0,(function*(){try{if(e&&t){const r=yield s.db.producto.count({where:{isDeleted:!1}}),o=Math.ceil(r/t),d=yield s.db.producto.findMany({skip:(e-1)*t,take:t,where:{isDeleted:!1},select:{id:!0,nombre:!0,descripcion:!0,precio:!0,stock:!0,isDeleted:!0,updatedAt:!0,createdAt:!0}});return{totalItems:d.length,currentPage:e,limit:t,totalPages:o,data:d}}const r=yield s.db.producto.findMany({where:{isDeleted:!1},select:{id:!0,nombre:!0,descripcion:!0,precio:!0,stock:!0,isDeleted:!0,updatedAt:!0,createdAt:!0}}),o=[];return r.map((e=>{o.push({id:e.id,name:e.nombre,description:e.descripcion,price:e.precio,stock:e.stock,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt})})),o}catch(e){throw new Error("Error finding a product ")}}))}findById(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.producto.findUnique({where:{id:e}});return t?{id:t.id,name:t.nombre,description:t.descripcion,price:t.precio,stock:t.stock,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt}:null}catch(e){throw new Error("Error finding a specific product ")}}))}}},534:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(368);t.default=class{find(e,t){return o(this,void 0,void 0,(function*(){try{if(e&&t){const r=yield s.db.productosOfUser.count({where:{isDeleted:!1}}),o=Math.ceil(r/t);return{data:yield s.db.productosOfUser.findMany({take:t,skip:(e-1)*t,where:{isDeleted:!1}}),limit:t,currentPage:e,totalItems:r,totalPages:o}}return yield s.db.productosOfUser.findMany({where:{isDeleted:!1}})}catch(e){throw new Error("Erro finding product of user")}}))}findById(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.productosOfUser.findUnique({where:{id:e}});return t?{idspecificproduct:t.idSpecifProduct,id:t.id,isDeleted:t.isDeleted,userId:t.userId,updateby:t.updatedBy,createdBy:t.createdBy,createdAt:t.createdAt,updatedAt:t.updatedAt}:null}catch(e){throw new Error("Erro finding product of user")}}))}findBySpecificProduct(e,t,r){return o(this,void 0,void 0,(function*(){try{if(t&&r){const o=yield s.db.productosOfUser.count({where:{idSpecifProduct:e,isDeleted:!1}}),d=Math.ceil(o/r);return{data:yield s.db.productosOfUser.findMany({take:r,skip:(t-1)*r,where:{idSpecifProduct:e,isDeleted:!1}}),limit:r,currentPage:t,totalItems:o,totalPages:d}}return yield s.db.productosOfUser.findMany({where:{idSpecifProduct:e,isDeleted:!1}})}catch(e){throw new Error("Erro finding product of user")}}))}findByUserId(e,t,r){return o(this,void 0,void 0,(function*(){try{if(t&&r){const o=yield s.db.productosOfUser.count({where:{isDeleted:!1,userId:e}}),d=Math.ceil(o/r);return{data:yield s.db.productosOfUser.findMany({take:r,skip:(t-1)*r,where:{userId:e,isDeleted:!1}}),limit:r,currentPage:t,totalItems:o,totalPages:d}}return yield s.db.productosOfUser.findMany({where:{userId:e,isDeleted:!1},select:{id:!0,idSpecifProduct:!0,userId:!0,createdAt:!0}})}catch(e){throw new Error("Erro finding product of user")}}))}save(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.productosOfUser.create({data:{userId:e.userId,idSpecifProduct:e.idspecificproduct,createdBy:e.createdBy,updatedBy:e.updateby},select:{id:!0,idSpecifProduct:!0,userId:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0}});return{id:t.id,idspecificproduct:t.idSpecifProduct,userId:t.userId,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt,createdBy:t.createdBy,updateby:t.updatedBy}}catch(e){throw console.error(e),new Error("Erro saving product of user")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.productosOfUser.update({where:{id:e},data:{isDeleted:!0},select:{id:!0,userId:!0,idSpecifProduct:!0,isDeleted:!0,createdAt:!0,createdBy:!0,updatedAt:!0,updatedBy:!0}});return{id:t.id,userId:t.userId,idspecificproduct:t.idSpecifProduct,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt,createdBy:t.createdBy,updateby:t.updatedBy}}catch(e){throw new Error("Erro deleting product of user")}}))}fisicalDelete(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.productosOfUser.delete({where:{id:e},select:{id:!0,userId:!0,idSpecifProduct:!0,isDeleted:!0,createdAt:!0,createdBy:!0,updatedAt:!0,updatedBy:!0}});return{id:t.id,userId:t.userId,idspecificproduct:t.idSpecifProduct,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt,createdBy:t.createdBy,updateby:t.updatedBy}}catch(e){throw new Error("Erro deleting product of user")}}))}}},306:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(368);t.default=class{save(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.sensorData.create({data:{valor:e.valor,sensorId:Number(e.sensorId),createdBy:1,updatedBy:1,createdAt:new Date,codeOfProduct:e.codeOfProduct,isDeleted:!1,nameSensor:e.nameSensor}});return Object.assign(Object.assign({},e),{id:t.id,createdAt:t.createdAt,updatedAt:t.updatedAt})}catch(e){throw console.log(e),new Error("Error saving data of sensor ")}}))}get(e,t){return o(this,void 0,void 0,(function*(){try{let r=[],o=[];return t?(o=yield s.db.sensorData.findMany({where:{sensorId:t,isDeleted:!1,codeOfProduct:e},select:{id:!0,sensorId:!0,valor:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,nameSensor:!0,codeOfProduct:!0},orderBy:{createdAt:"asc"}}),r=o.map((e=>({id:e.id,sensorId:e.sensorId,valor:e.valor,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy,updatedBy:e.updatedBy,nameSensor:e.nameSensor,codeOfProduct:e.codeOfProduct}))),r):(o=yield s.db.sensorData.findMany({where:{isDeleted:!1,codeOfProduct:e},select:{id:!0,sensorId:!0,valor:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,nameSensor:!0,codeOfProduct:!0},orderBy:{createdAt:"asc"}}),r=o.map((e=>({id:e.id,sensorId:e.sensorId,valor:e.valor,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy,updatedBy:e.updatedBy,nameSensor:e.nameSensor,codeOfProduct:e.codeOfProduct}))),r)}catch(e){throw console.log(e),new Error("Error getting data of sensor ")}}))}getByDate(e,t,r,d){return o(this,void 0,void 0,(function*(){try{const o=new Date(t,r-1,1),i=new Date(t,r,0);return(yield s.db.sensorData.findMany({where:{createdAt:{gte:o,lt:i},isDeleted:!1,codeOfProduct:e,sensorId:d||void 0},select:{id:!0,sensorId:!0,valor:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,nameSensor:!0,codeOfProduct:!0},orderBy:{createdAt:"asc"}})).map((e=>({id:e.id,sensorId:e.sensorId,valor:e.valor,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy,updatedBy:e.updatedBy,nameSensor:e.nameSensor,codeOfProduct:e.codeOfProduct})))}catch(e){throw console.log(e),new Error("Error getting data of sensor ")}}))}getByYear(e,t,r){return o(this,void 0,void 0,(function*(){try{if(t){const o=new Date(t,0,1),d=new Date(t,12,0);return(yield s.db.sensorData.findMany({where:{createdAt:{gte:o,lt:d},isDeleted:!1,codeOfProduct:e,sensorId:r||void 0},select:{id:!0,sensorId:!0,valor:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,nameSensor:!0,codeOfProduct:!0},orderBy:{createdAt:"asc"}})).map((e=>({id:e.id,sensorId:e.sensorId,valor:e.valor,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy,updatedBy:e.updatedBy,nameSensor:e.nameSensor,codeOfProduct:e.codeOfProduct})))}const o=(new Date).getFullYear();return(yield s.db.sensorData.findMany({where:{createdAt:{gte:new Date(o,0,1),lt:new Date(o+1,0,1)},isDeleted:!1,codeOfProduct:e,sensorId:r||void 0},select:{id:!0,sensorId:!0,valor:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,nameSensor:!0,codeOfProduct:!0},orderBy:{createdAt:"asc"}})).map((e=>({id:e.id,sensorId:e.sensorId,valor:e.valor,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy,updatedBy:e.updatedBy,nameSensor:e.nameSensor,codeOfProduct:e.codeOfProduct})))}catch(e){throw console.log(e),new Error("Error getting data of sensor ")}}))}}},259:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(368);t.default=class{find(e,t){return o(this,void 0,void 0,(function*(){try{if(!e&&!t)return yield s.db.specifProduct.findMany({where:{isDeleted:!1},select:{codigo:!0,productoId:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,producto:{select:{id:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,nombre:!0,descripcion:!0,stock:!0}}}});if(e&&t){const r=yield s.db.specifProduct.count({where:{isDeleted:!1}}),o=Math.ceil(r/t),d=yield s.db.specifProduct.findMany({take:t,skip:(e-1)*t,where:{isDeleted:!1},select:{codigo:!0,productoId:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,producto:{select:{id:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,nombre:!0,descripcion:!0,stock:!0}}}});return{totalItems:d.length,totalPages:o,currentPage:e,data:d,limit:t}}return[]}catch(e){throw new Error("Error finding specific product")}}))}findByCodigo(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.specifProduct.findFirst({where:{isDeleted:!1,codigo:e},select:{codigo:!0,productoId:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,producto:{select:{id:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,nombre:!0,descripcion:!0,stock:!0}}}});return{isDeleted:t.isDeleted,codigo:t.codigo,productId:t.productoId,createdAt:t.createdAt,updatedAt:t.updatedAt,createdById:t.createdBy,updatedById:t.updatedBy}}catch(e){throw new Error("Error finding specific product by code")}}))}findByProductId(e){return o(this,void 0,void 0,(function*(){try{return yield s.db.specifProduct.findFirst({where:{isDeleted:!1,productoId:e},select:{codigo:!0,productoId:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,createdBy:!0,updatedBy:!0,producto:{select:{id:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,nombre:!0,descripcion:!0,stock:!0}},productosOfUser:{select:{id:!0,userId:!0,user:{select:{id:!0,isDeleted:!0,createdAt:!0,updatedAt:!0,name:!0,email:!0}}}}}})}catch(e){throw new Error("Error finding specific product by product id")}}))}save(e){return o(this,void 0,void 0,(function*(){try{yield s.db.specifProduct.create({data:{codigo:e.codigo,productoId:e.productId,isDeleted:!1,createdAt:new Date,updatedAt:new Date,createdBy:e.createdById,updatedBy:e.updatedById}})}catch(e){throw new Error("Error saving specific product")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield s.db.specifProduct.update({where:{codigo:e},data:{isDeleted:!0}})}catch(e){throw new Error("Error deleting specific product")}}))}fisicalDelete(e){return o(this,void 0,void 0,(function*(){try{yield s.db.specifProduct.delete({where:{codigo:e}})}catch(e){throw new Error("Error fisical deleting specific product")}}))}update(e,t){return o(this,void 0,void 0,(function*(){try{yield s.db.specifProduct.update({where:{codigo:e},data:{codigo:t}})}catch(e){throw new Error("Error updating specific product")}}))}updateidproducto(e,t){return o(this,void 0,void 0,(function*(){try{yield s.db.specifProduct.update({where:{codigo:e},data:{productoId:t}})}catch(e){throw new Error("Error updating specific product id")}}))}}},865:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(368);t.default=class{constructor(e){this.user=e}findBYEmail(e){return o(this,void 0,void 0,(function*(){const t=yield s.db.user.findFirst({where:{email:e,isDeleted:!1}});return t?{id:t.id,roleid:t.roleId,name:t.name,email:t.email,password:t.password,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt}:null}))}save(e){return o(this,void 0,void 0,(function*(){try{const t=yield s.db.user.create({data:{roleId:e.roleid,name:e.name,email:e.email,password:e.password},select:{id:!0,roleId:!0,name:!0,email:!0,password:!0,isDeleted:!0,createdAt:!0,updatedAt:!0}});return{id:t.id,roleid:t.roleId,name:t.name,email:t.email,password:t.password,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt}}catch(e){throw new Error("Error saving user")}}))}update(e,t){return o(this,void 0,void 0,(function*(){try{yield s.db.user.update({where:{id:e.id,isDeleted:!1},data:t})}catch(e){throw new Error("Error updating user")}}))}updatePassword(e,t){return o(this,void 0,void 0,(function*(){try{yield s.db.user.update({where:{id:e.id,isDeleted:!1},data:{password:t}})}catch(e){throw new Error("Error updating user")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield s.db.user.update({where:{id:e.id,isDeleted:!1},data:{isDeleted:!0}})}catch(e){throw new Error("Error deleting user")}}))}fisicalDelete(e){return o(this,void 0,void 0,(function*(){try{yield s.db.user.delete({where:{id:e.id}})}catch(e){throw new Error("Error deleting user")}}))}find(e,t){return o(this,void 0,void 0,(function*(){try{if(e&&t){const r=yield s.db.user.count({where:{isDeleted:!1}}),o=yield s.db.user.findMany({where:{isDeleted:!1},skip:(e-1)*t,take:t,select:{id:!0,roleId:!0,name:!0,email:!0,password:!0,isDeleted:!0,createdAt:!0,updatedAt:!0}}),d=[];return o.forEach((e=>{d.push({id:e.id,roleid:e.roleId,name:e.name,email:e.email,password:e.password,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt})})),{data:d,currentPage:e,limit:t,totalItems:r,totalPages:Math.ceil(r/t)}}const r=yield s.db.user.findMany({where:{isDeleted:!1},select:{id:!0,name:!0,roleId:!0,email:!0,password:!0,isDeleted:!0,createdAt:!0,updatedAt:!0}}),o=[];return r.forEach((e=>{o.push({id:e.id,roleid:e.roleId,name:e.name,email:e.email,password:e.password,isDeleted:e.isDeleted,createdAt:e.createdAt,updatedAt:e.updatedAt})})),o}catch(e){throw new Error("Error getting users")}}))}findById(e){return o(this,void 0,void 0,(function*(){const t=yield s.db.user.findFirst({where:{id:e,isDeleted:!1},select:{id:!0,roleId:!0,name:!0,email:!0,password:!0,isDeleted:!0,createdAt:!0,updatedAt:!0}});return t?{id:t.id,roleid:t.roleId,name:t.name,email:t.email,password:t.password,isDeleted:t.isDeleted,createdAt:t.createdAt,updatedAt:t.updatedAt}:null}))}}},394:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(829));r(469),t.default=class{constructor(){this.secret=process.env.JWT_SECRET}generateToken(e){return s.default.sign(e,this.secret,{expiresIn:"1h"})}verifyToken(e){return s.default.verify(e,this.secret)}}},384:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SocketIOService=void 0;const d=s(r(394)),i=s(r(111));r(469);const n=new d.default;t.SocketIOService=class{constructor(e,t,r){this.sensorDataUseCase=t,this.staclient=r,this.io=e}initSocketIO(){console.log("Initializing Socket.IO"),this.io.use(((e,t)=>{var r,o;const s=(null===(r=e.handshake.auth)||void 0===r?void 0:r.token)||(null===(o=e.handshake.headers)||void 0===o?void 0:o.token);if(e.token=s,console.log(s),!s)return t(new Error("Authentication error"));try{const r=n.verifyToken(s);e.idSpeceficProduct=r.idSpeceficProduct,t()}catch(e){t(new Error("Authentication error"))}})),this.io.on("connection",(e=>{console.log(e.idSpeceficProduct),e.join(`${e.idSpeceficProduct}`),i.default.connect(process.env.RABBITMQ_URL,{username:process.env.RABBITMQ_USERNAME,password:process.env.RABBITMQ_PASSWORD},((t,r)=>{if(t)throw t;r.createChannel(((t,r)=>{if(t)throw t;const s=process.env.RABBITMQ_QUEUE;r.assertQueue(s,{durable:!0}),r.consume(s,(t=>o(this,void 0,void 0,(function*(){if(null!==t){const o=JSON.parse(t.content.toString());if(o.codeOfProduct==e.idSpeceficProduct){let t,r;const s=yield this.sensorDataUseCase.getByYear(o.codeOfProduct,void 0,2),{label:d,data:i}=yield this.staclient.calculateHistogram(s,e.token);let n={success:!0,message:"Data found",label:d,data:i,nameSensor:"modulo de sensor de luz fotoresistencia ldr"};this.io.to(`${e.idSpeceficProduct}`).emit("histogram",n),t=yield this.sensorDataUseCase.getByYear(o.codeOfProduct,void 0,4),r=yield this.sensorDataUseCase.getByYear(o.codeOfProduct,void 0,2);const a=yield this.staclient.scatterPlot(t,r,e.token);n={success:!0,message:"Data found",data:a.data,x:a.x,y:a.y},this.io.to(`${e.idSpeceficProduct}`).emit("scatterplot",n),t=yield this.sensorDataUseCase.getByYear(o.codeOfProduct),n={success:!0,message:"Data found",data:yield this.staclient.linechart(t,e.token)},this.io.to(`${e.idSpeceficProduct}`).emit("linechart",n),t=yield this.sensorDataUseCase.getByYear(o.codeOfProduct),n={success:!0,message:"Data found",data:yield this.staclient.frequencytable(t,e.token)},this.io.to(`${e.idSpeceficProduct}`).emit("frequencytable",n),n={success:!0,message:"Data found",data:yield this.staclient.boxplot(t,e.token)},this.io.to(`${e.idSpeceficProduct}`).emit("boxplot",n),t=yield this.sensorDataUseCase.getByYear(o.codeOfProduct)}r.ack(t)}}))))}))})),e.on("sensorData",(e=>{}))}))}}},859:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(252)),d=o(r(577)),i=o(r(865)),n=o(r(394)),a=o(r(502)),c=o(r(52)),u=o(r(633)),l=o(r(991)),f=o(r(534)),p=o(r(431)),h=o(r(259)),y=o(r(381)),v=o(r(335)),w=o(r(306)),g=o(r(744)),m=r(480),D=r(629),A=o(r(850)),b=o(r(876)),_=(0,s.default)();_.use(s.default.json());const B=new u.default,P=new w.default,S=new m.RabbitMqClient,I=new D.StatsClient,E=new v.default(P,S),O=new y.default(E),M=new i.default(B),U=new f.default,k=new p.default,x=new h.default,T=new n.default,j=new a.default(M,T,U),C=new l.default(M,U,k,x),R=new c.default(j,C),N=new A.default(E,I),q=new b.default(E,I);_.use((0,d.default)()),_.use("/api/auth",R.router),_.use("/api/sensor",g.default,O.getrouter()),_.use("/api/graphics",g.default,N.getrouter()),_.use("/api/statistics",g.default,q.getRouter()),t.default=_},335:function(e,t){var r=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.sensorDataRepository=e,this.rabbitMqClient=t}save(e){return r(this,void 0,void 0,(function*(){return yield this.rabbitMqClient.sendMessagge(e),e}))}get(e,t){return r(this,void 0,void 0,(function*(){const r=yield this.sensorDataRepository.get(e,t);return console.log(r),r}))}getByDate(e,t,o,s){return r(this,void 0,void 0,(function*(){const r=yield this.sensorDataRepository.getByDate(e,t,o,s);return console.log(r),r}))}getByYear(e,t,o){return r(this,void 0,void 0,(function*(){const r=yield this.sensorDataRepository.getByYear(e,t,o);return console.log(r),r}))}}},502:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(486));t.default=class{constructor(e,t,r){this.userRepository=e,this.jwtService=t,this.productOfUserRepository=r}login(e,t){return o(this,void 0,void 0,(function*(){const r=yield this.userRepository.findBYEmail(e);let o=yield this.productOfUserRepository.findByUserId(r.id);if(!d.default.compareSync(t,r.password)||!r)throw new Error("Invalid credentials");return o=Array(o),this.jwtService.generateToken({id:r.id,role:r.roleid,idSpeceficProduct:o[0][0].idSpecifProduct})}))}}},991:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(486));r(469),t.default=class{constructor(e,t,r,o){this.userRepository=e,this.productofuserrepository=t,this.productoRepository=r,this.specificproductrepository=o}register(e,t){return o(this,void 0,void 0,(function*(){try{if(e.password=d.default.hashSync(e.password,Number(process.env.SALT)),!(yield this.specificproductrepository.findByCodigo(t.toLowerCase())))throw new Error("Specific product not found");const r=yield this.userRepository.save(e),o=yield this.productofuserrepository.findBySpecificProduct(t);if(console.log(o),Array.isArray(o)){o.length>0&&(yield this.productofuserrepository.save({id:0,idspecificproduct:t,userId:r.id,createdAt:new Date,updatedAt:new Date,createdBy:r.id,updateby:0,isDeleted:!1}));const e=yield this.specificproductrepository.findByCodigo(t);yield this.productoRepository.updateStock({id:e.productId,isDeleted:!1,createdAt:new Date,updatedAt:new Date,name:"",description:"",stock:0,price:0}),console.log(r.id),yield this.productofuserrepository.save({id:0,idspecificproduct:t,userId:r.id,createdAt:new Date,updatedAt:new Date,createdBy:r.id,updateby:0,isDeleted:!1})}}catch(e){throw console.error(e),new Error("Error saving user")}}))}}},633:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.id=0,this.name="",this.email="",this.password="",this.isDeleted=!1,this.createdAt=new Date,this.updatedAt=new Date,this.roleid=0}}},368:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.db=void 0;const o=r(330);let s;global.__db||(global.__db=new o.PrismaClient),t.db=s=global.__db},744:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(394));t.default=(e,t,r)=>o(void 0,void 0,void 0,(function*(){try{if(!(new d.default).verifyToken(e.headers.authorization))return t.status(401).json({success:!1,message:"unauthorizated"});r()}catch(e){return console.log(e),t.status(401).json({success:!1,message:"unauthorizated"})}}))},88:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MqttClientClass=void 0;const d=s(r(630));r(469),t.MqttClientClass=class{constructor(e){this.sensorService=e,this.client=d.default.connect(process.env.MQTT_URL,{username:process.env.MQTT_USERNAME,password:process.env.MQTT_PASSWORD}),this.client.on("connect",(()=>{console.log("Connected to MQTT broker"),this.client.subscribe(process.env.MQTT_Topic,(e=>{e&&console.error("Failed to subscribe to topic")}))})),this.client.on("message",((e,t)=>o(this,void 0,void 0,(function*(){if(e===process.env.MQTT_TOPIC){console.log("Received message from MQTT broker");const e=JSON.parse(t.toString()),{sensorId:r,valor:o,nameSensor:s,codeOfProduct:d}=e;Number(o),new Date,new Date,yield this.sensorService.save(e)}})))),this.client.on("error",(e=>{console.error("Error connecting to MQTT broker",e)}))}}},480:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RabbitMqClient=void 0;const d=s(r(942));t.RabbitMqClient=class{constructor(){}connect(){return o(this,void 0,void 0,(function*(){this.connection=yield d.default.connect(process.env.RABBITMQ_URL,{username:process.env.RABBITMQ_USERNAME,password:process.env.RABBITMQ_PASSWORD}),this.channel=yield this.connection.createChannel(),yield this.channel.assertQueue(process.env.RABBITMQ_QUEUE)}))}sendMessagge(e){return o(this,void 0,void 0,(function*(){this.channel.sendToQueue(process.env.RABBITMQ_QUEUE,Buffer.from(JSON.stringify(e)))}))}consumeMessages(e){return o(this,void 0,void 0,(function*(){this.channel.consume(process.env.RABBITMQ_QUEUE,(t=>{if(null!==t){const r=JSON.parse(t.content.toString());e(r),this.channel.ack(t)}}))}))}}},629:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsClient=void 0;const d=s(r(938));r(469),t.StatsClient=class{calculateHistogram(e,t){return o(this,void 0,void 0,(function*(){const r=yield d.default.post(`${process.env.STATS_URL}/api/v1/stats/histogram`,{sensor_values:e},{headers:{Authorization:`Bearer ${t}`}});return JSON.parse(r.data)}))}scatterPlot(e,t,r){return o(this,void 0,void 0,(function*(){try{const o=yield d.default.post(`${process.env.STATS_URL}/api/v1/stats/scatter-plot`,{sensor_data1:e,sensor_data2:t},{headers:{Authorization:`Bearer ${r}`}});return JSON.parse(o.data)}catch(e){throw new Error(e)}}))}linechart(e,t){return o(this,void 0,void 0,(function*(){try{const r=yield d.default.post(`${process.env.STATS_URL}/api/v1/stats/line-chart`,{sensor_data:e},{headers:{Authorization:`Bearer ${t}`}});return JSON.parse(r.data)}catch(e){throw new Error(e)}}))}frequencytable(e,t){return o(this,void 0,void 0,(function*(){try{const r=yield d.default.post(`${process.env.STATS_URL}/api/v1/stats/frecuencytable`,{sensor_data:e},{headers:{Authorization:`Bearer ${t}`}});return JSON.parse(r.data)}catch(e){throw new Error(e)}}))}boxplot(e,t){return o(this,void 0,void 0,(function*(){try{const r=yield d.default.post(`${process.env.STATS_URL}/api/v1/stats/boxplot`,{sensor_data:e},{headers:{Authorization:`Bearer ${t}`}});return JSON.parse(r.data)}catch(e){throw new Error(e)}}))}getStatistics(e,t){return o(this,void 0,void 0,(function*(){try{const r=yield d.default.post(`${process.env.STATS_URL}/api/v1/statics/meditions`,{sensor_data:e},{headers:{Authorization:`Bearer ${t}`}});return JSON.parse(r.data)}catch(e){throw new Error(e)}}))}}},997:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,d){function i(e){try{a(o.next(e))}catch(e){d(e)}}function n(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(856)),i=s(r(859)),n=s(r(335)),a=r(88),c=s(r(306)),u=r(480),l=new c.default,f=new u.RabbitMqClient,p=new n.default(l,f),h=(new a.MqttClientClass(p),r(437)),y=r(384),v=r(629),w=d.default.createServer(i.default),g=new h.Server(w,{cors:{origin:"*",methods:["GET","POST"]}}),m=process.env.PORT||3e3;new y.SocketIOService(g,p,new v.StatsClient).initSocketIO(),w.listen(m,(()=>{console.log(`Server is running on port ${m}`)})),f.connect().then((()=>{f.consumeMessages((e=>o(void 0,void 0,void 0,(function*(){const{sensorId:t,valor:r,nameSensor:o,codeOfProduct:s}=e;console.log(t,r,o,s),yield l.save({id:0,isDeleted:!1,valor:Number(r),sensorId:t,codeOfProduct:s,createdAt:new Date,createdBy:1,updatedAt:new Date,updatedBy:0,nameSensor:o})})))),console.log("Connected to RabbitMQ")})).catch((e=>{console.error("Failed to connect to RabbitMQ",e)}))},330:e=>{e.exports=require("@prisma/client")},942:e=>{e.exports=require("amqplib")},111:e=>{e.exports=require("amqplib/callback_api")},938:e=>{e.exports=require("axios")},486:e=>{e.exports=require("bcrypt")},577:e=>{e.exports=require("cors")},469:e=>{e.exports=require("dotenv/config")},252:e=>{e.exports=require("express")},856:e=>{e.exports=require("http")},829:e=>{e.exports=require("jsonwebtoken")},630:e=>{e.exports=require("mqtt")},437:e=>{e.exports=require("socket.io")}},t={};!function r(o){var s=t[o];if(void 0!==s)return s.exports;var d=t[o]={exports:{}};return e[o].call(d.exports,d,d.exports,r),d.exports}(997)})();